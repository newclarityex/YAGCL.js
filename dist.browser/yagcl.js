var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{GamepadListener:()=>r,default:()=>c});var n,o=function(){function t(){this.callbacks={}}return t.prototype.on=function(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e)},t.prototype.off=function(t,e){this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter((function(t){return t!==e})))},t.prototype.addEventListener=function(t,e){this.on(t,e)},t.prototype.removeEventListener=function(t,e){this.off(t,e)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.callbacks[t]&&this.callbacks[t].forEach((function(t){return t.apply(void 0,e)}))},t}(),i=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=function(){return a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)},s={deadzone:.3,precision:.01,analog:!0,pollInterval:10};const r=function(t){function e(e){void 0===e&&(e=s);var n=t.call(this)||this;return n.gamepads=[],n.listenerInterval=null,n.axesTracker=[],n.options=a(a({},s),e),n}return i(e,t),e.prototype.onConnected=function(t){this.emit("connected",t),this.axesTracker.push(t.gamepad.axes.map((function(){return 0})))},e.prototype.onDisconnected=function(t){this.emit("disconnected",t)},e.prototype.start=function(){window.addEventListener("gamepadconnected",this.onConnected.bind(this)),window.addEventListener("gamepaddisconnected",this.onDisconnected.bind(this)),this.listenerInterval=window.setInterval(this.checkGamepads.bind(this),this.options.pollInterval),this.gamepads=navigator.getGamepads()},e.prototype.stop=function(){window.removeEventListener("gamepadconnected",this.onConnected.bind(this)),window.removeEventListener("gamepaddisconnected",this.onDisconnected.bind(this)),clearInterval(this.listenerInterval)},e.prototype.checkGamepads=function(){for(var t=navigator.getGamepads(),e=0;e<t.length;e++){var n=t[e],o=this.gamepads[e];null!==n&&null!==o&&(this.checkButtonUpdates(n,o),this.checkAxisUpdates(n))}this.gamepads=t},e.prototype.checkButtonUpdates=function(t,e){for(var n=0;n<t.buttons.length;n++){var o=t.buttons[n];this.emit("button",{gamepad:t,index:n,value:o.value}),o.pressed&&!e.buttons[n].pressed?this.emit("buttondown",{gamepad:t,index:n}):!o.pressed&&e.buttons[n].pressed&&this.emit("buttonup",{gamepad:t,index:n})}},e.prototype.checkAxisUpdates=function(t){for(var e=0;e<t.axes.length;e++){var n=t.axes[e],o=n;this.options.analog||(o=n>this.options.deadzone?1:n<-this.options.deadzone?-1:0),null===this.axesTracker[t.index]||Math.abs(o-this.axesTracker[t.index][e])>=this.options.precision?(this.axesTracker[t.index][e]=o,this.emit("axis",{gamepad:t,index:e,value:o})):this.axesTracker[t.index][e]=o}},e}(o),c=r;window.yagcl=e;